<view class="page">
  <view class="page__hd">
    <van-search class="search" placeholder="请输入搜索关键词" bind:search="onSearch" />

    <view class="weui-media-box__info padding-left">
      <van-action-sheet show="{{sheetShow}}" bind:close="onSheetClose" title="Select Filter Language">
        <van-cell title="All" clickable data-name="All" >
          <van-checkbox value="{{selectLangList==0?true:false}}" catch:tap="selectAll" class="checkboxes-All" name="All" />
        </van-cell>
        <van-checkbox-group value="{{ selectLangList }}" bind:change="onChange">
        <van-cell-group >
          <van-cell
            wx:for="{{ langList }}"
            wx:key="index"
            title="{{ item }}"
            clickable
            data-name="{{ item }}"
            bind:click="toggle"
           >
           <van-checkbox catch:tap="noop" class="checkboxes-{{ item }}" name="{{ item }}" />
          </van-cell>
        </van-cell-group>
        </van-checkbox-group>
      </van-action-sheet>
      <view class="weui-media-box__info__meta" bindtap="actionSheetTapLang">语言：{{selectLangList.length>0 ? selectLangList : 'All'}}</view>
      <view class="weui-media-box__info__meta" bindtap="actionSheetTapOrder">排序：{{order}}</view>
    </view>
  </view>

<view class="page__bd">
  <wux-spin nested spinning="{{ spinning }}" tip="Loading ..."/>
  <block wx:for-items="{{list}}" wx:key="{{item._id}}">
    <navigator url="/pages/readme/readme?_id={{item._id}}&repo={{item.repo}}" hover-class="navigator-hover">
    <wux-divider class="remove-margin" position="right">
      <wux-timeago class="timeago-padding" to="{{item._crawl_time}}" lang="en" />
    </wux-divider>
    <view class=".padding-card">
        <view class="weui-media-box__title">
          {{item.repo}}
        </view>
        <view class="weui-media-box__info">
          <view class="weui-media-box__info__meta"><wux-icon size="13" type="md-create" />  {{item.lang}}</view>
          
          <view class="weui-media-box__info__meta">
            <wux-icon size="13" type="md-star" />  {{item.star}}</view>
          
          <view class="weui-media-box__info__meta"><wux-icon size="13" type="md-git-network" />  {{item.fork}}</view>
        </view>
        <view class="weui-media-box__desc">{{item.desc}}</view>
    </view>
    </navigator>
  </block>

  <fabbutton/>
</view>
</view>
